<div class="container-float" *ngIf='!otpForm'>
    <div class="row">
        <div class="col-sm-8">
            <form [formGroup]="candidateForm" enctype="multipart/form-data">
                <div formGroupName='basicInfo' class="col-sm-12">
                    <h3>Basic Details</h3>
                    <div class="form-group">
                        <label for="Name">Name</label>
                        <input type="text" class="form-control" formControlName="candidateName" placeholder="Name"
                            [ngClass]="{ 'is-invalid': submitted && f.basicInfo?.candidateName.errors }">
                        <div *ngIf="submitted && f.basicInfo?.candidateName.errors" class="invalid-feedback">
                            <div *ngIf="f.basicInfo?.candidateName.errors.required" class="alert alert-danger">Name is
                                required
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="Email">Email</label>
                        <input type="email" class="form-control" formControlName="candidateEmail" placeholder="Email"
                            [ngClass]="{ 'is-invalid': submitted && f.basicInfo?.candidateEmail?.errors }">
                        <div *ngIf="submitted && f.basicInfo?.candidateEmail?.errors" class="invalid-feedback">
                            <div *ngIf="f.basicInfo?.candidateEmail?.errors.required" class="alert alert-danger">Email is required
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-sm-6">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" formControlName="password" placeholder="Password"
                            [ngClass]="{ 'is-invalid': submitted && f.basicInfo?.password?.errors }">
                        <div *ngIf="submitted && f.basicInfo?.password?.errors" class="invalid-feedback">
                            <div *ngIf="f.basicInfo?.password?.errors.required" class="alert alert-danger">Password is required
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-sm-6">
                        <label for="cnfPassword">Confirm Password</label>
                        <input type="password" class="form-control" formControlName="cnfPassword"
                            placeholder="Re enter your password"
                            [ngClass]="{ 'is-invalid': submitted && f.basicInfo?.cnfPassword?.errors }">
                        <div *ngIf="submitted && f.basicInfo?.cnfPassword?.errors" class="invalid-feedback">
                            <div *ngIf="f.basicInfo?.cnfPassword?.errors.required" class="alert alert-danger">This field is
                                required
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-sm-6">
                        <label for="mobileNumber">Mobile Number</label>
                        <input type="number" class="form-control" formControlName="mobileNumber"
                            placeholder="mobileNumber"
                            [ngClass]="{ 'is-invalid': submitted && f.basicInfo?.mobileNumber?.errors }">
                        <div *ngIf="submitted && f.basicInfo?.mobileNumber?.errors" class="invalid-feedback">
                            <div *ngIf="f.basicInfo?.mobileNumber?.errors.required" class="alert alert-danger">This field is
                                required
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-sm-6">
                        <label for="gender">Gender</label>
                        <select class="form-control" formControlName="gender">
                            <option>male</option>
                            <option>female</option>
                            <option>others</option>
                        </select>
                    </div>

                    <div class="form-group col-sm-6">
                        <label for="age">Age</label>
                        <input type="number" class="form-control" formControlName="age" placeholder="enter your age"
                            [ngClass]="{ 'is-invalid': submitted && f.basicInfo?.age?.errors }">
                        <div *ngIf="submitted && f.basicInfo?.age?.errors" class="invalid-feedback">
                            <div *ngIf="f.basicInfo?.age?.errors.required" class="alert alert-danger">This field is required
                            </div>
                        </div>
                    </div>

                </div>

                <div formGroupName='educationalQualification'>
                    <div formGroupName='highschool' class="col-sm-12">
                        <h3>Highschool</h3>
                        <div class="form-group">
                            <label for="institute">Institute</label>
                            <input type="text" class="form-control" formControlName="institute" placeholder="institute"
                                [ngClass]="{ 'is-invalid': submitted && f.institute?.errors }">
                            <div *ngIf="submitted && f.institute?.errors" class="invalid-feedback">
                                <div *ngIf="f.institute?.errors.required" class="alert alert-danger">This field is
                                    required
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-sm-4">
                            <label for="passingYear">Passing Year</label>
                            <select class="form-control" formControlName="passingYear">
                                <option *ngFor='let passingYr of years' [value]='passingYr'>{{passingYr}}</option>
                            </select>
                        </div>
                        <div class="form-group col-sm-4">
                            <label for="board">Board</label>
                            <select class="form-control" formControlName="board">
                                <option *ngFor='let board of boards' [value]='board'>{{board}}</option>
                            </select>
                        </div>
                        <div class="form-group col-sm-4">
                            <label for="percentage">Percentage</label>
                            <input type="number" class="form-control" formControlName="percentage"
                                placeholder="percentage"
                                [ngClass]="{ 'is-invalid': submitted && f.percentage?.errors }">
                            <div *ngIf="submitted && f.percentage?.errors" class="invalid-feedback">
                                <div *ngIf="f.percentage?.errors.required" class="alert alert-danger">This field is
                                    required
                                </div>
                            </div>
                        </div>

                    </div>
                    <div formGroupName='intermediate' class="col-sm-12">
                        <h3>Intermediate</h3>
                        <div class="form-group">
                            <label for="institute">Institute</label>
                            <input type="text" class="form-control" formControlName="institute" placeholder="institute"
                                [ngClass]="{ 'is-invalid': submitted && f.institute?.errors }">
                            <div *ngIf="submitted && f.institute?.errors" class="invalid-feedback">
                                <div *ngIf="f.institute?.errors.required" class="alert alert-danger">This field is
                                    required
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-sm-4">
                            <label for="passingYear">Passing Year</label>
                            <select class="form-control" formControlName="passingYear">
                                <option *ngFor='let passingYr of years' [value]='passingYr'>{{passingYr}}</option>
                            </select>
                        </div>
                        <div class="form-group col-sm-4">
                            <label for="board">Board</label>
                            <select class="form-control" formControlName="board">
                                <option *ngFor='let board of boards' [value]='board'>{{board}}</option>
                            </select>
                        </div>
                        <div class="form-group col-sm-4">
                            <label for="percentage">Percentage</label>
                            <input type="number" class="form-control" formControlName="percentage"
                                placeholder="percentage"
                                [ngClass]="{ 'is-invalid': submitted && f.percentage?.errors }">
                            <div *ngIf="submitted && f.percentage?.errors" class="invalid-feedback">
                                <div *ngIf="f.percentage?.errors.required" class="alert alert-danger">This field is
                                    required
                                </div>
                            </div>
                        </div>

                    </div>
                    <div formGroupName='graduation' class="col-sm-12">
                        <h3>Graduation</h3>
                        <div class="form-group">
                            <label for="institute">Institute</label>
                            <input type="text" class="form-control" formControlName="institute" placeholder="institute"
                                [ngClass]="{ 'is-invalid': submitted && f.institute?.errors }">
                            <div *ngIf="submitted && f.institute?.errors" class="invalid-feedback">
                                <div *ngIf="f.institute?.errors.required" class="alert alert-danger">This field is
                                    required
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-sm-4">
                            <label for="course">Course</label>
                            <select class="form-control" formControlName="course"
                                (change)='changeStream($event.target.value)'>
                                <option *ngFor='let course of courses' [value]='course | json'>{{course.name}}</option>
                            </select>
                        </div>
                        <div class="form-group col-sm-4">
                            <label for="stream">Stream</label>
                            <select class="form-control" formControlName="stream">
                                <option *ngFor='let stream of streams' [value]='stream'>{{stream}}</option>
                            </select>
                        </div>
                        <div class="form-group col-sm-4">
                            <label for="passingYear">Passing Year</label>
                            <select class="form-control" formControlName="passingYear">
                                <option *ngFor='let passingYr of years' [value]='passingYr'>{{passingYr}}</option>
                            </select>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="university">University</label>
                            <input type="text" class="form-control" formControlName="university"
                                placeholder="University"
                                [ngClass]="{ 'is-invalid': submitted && f.university?.errors }">
                            <div *ngIf="submitted && f.university?.errors" class="invalid-feedback">
                                <div *ngIf="f.university?.errors.required" class="alert alert-danger">This field is
                                    required
                                </div>

                            </div>
                        </div>

                        <div class="form-group col-sm-6">
                            <label for="percentage">Percentage</label>
                            <input type="number" class="form-control" formControlName="percentage"
                                placeholder="percentage"
                                [ngClass]="{ 'is-invalid': submitted && f.percentage?.errors }">
                            <div *ngIf="submitted && f.percentage?.errors" class="invalid-feedback">
                                <div *ngIf="f.percentage?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- residential address-->
                <div formGroupName='residentialDetails'>
                    <div formGroupName='currentAddress' class="col-sm-12">
                        <h3>Current Address</h3>
                        <div class="form-group">
                            <label for="addLine1">Address Line 1</label>
                            <input type="text" class="form-control" formControlName="addLine1"
                                placeholder="H. No./Flat No./Building No."
                                [ngClass]="{ 'is-invalid': submitted && f.addLine1?.errors }">
                            <div *ngIf="submitted && f.addLine1?.errors" class="invalid-feedback">
                                <div *ngIf="f.addLine1?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="addLine2">Address Line 2</label>
                            <input type="text" class="form-control" formControlName="addLine2"
                                placeholder="Street/Locality/sector"
                                [ngClass]="{ 'is-invalid': submitted && f.addLine2?.errors }">
                            <div *ngIf="submitted && f.addLine2?.errors" class="invalid-feedback">
                                <div *ngIf="f.addLine2?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-sm-4">
                            <label for="pincode">Pincode</label>
                            <input type="number" class="form-control" formControlName="pincode" placeholder="ex: 110001"
                                [ngClass]="{ 'is-invalid': submitted && f.pincode?.errors }"
                                (ngModelChange)="onKey($event)">
                            <div *ngIf="submitted && f.pincode?.errors" class="invalid-feedback">
                                <div *ngIf="f.pincode?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>

                        <div class="form-group col-sm-4">
                            <label for="city">City</label>
                            <input type="text" class="form-control" formControlName="city" placeholder="city"
                                [ngClass]="{ 'is-invalid': submitted && f.city?.errors }">
                            <div *ngIf="submitted && f.city?.errors" class="invalid-feedback">
                                <div *ngIf="f.city?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>

                        <div class="form-group col-sm-4">
                            <label for="state">State</label>
                            <input type="text" class="form-control" formControlName="state" placeholder="State"
                                [ngClass]="{ 'is-invalid': submitted && f.state?.errors }">
                            <div *ngIf="submitted && f.state?.errors" class="invalid-feedback">
                                <div *ngIf="f.state?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>

                    </div>
                    <h3>Permanent Address</h3>
                    <input type="checkbox" [(ngModel)]="sameAsCurAdd" [ngModelOptions]="{standalone: true}" /> Same as
                    Current Address?<br>
                    <div *ngIf='!sameAsCurAdd' formGroupName='permanentAddress' class="col-sm-12">

                        <div class="form-group">
                            <label for="addLine1">Address Line 1</label>
                            <input type="text" class="form-control" formControlName="addLine1"
                                placeholder="H. No./Flat No./Building No."
                                [ngClass]="{ 'is-invalid': submitted && f.addLine1?.errors }">
                            <div *ngIf="submitted && f.addLine1?.errors" class="invalid-feedback">
                                <div *ngIf="f.addLine1?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="addLine2">Address Line 2</label>
                            <input type="text" class="form-control" formControlName="addLine2"
                                placeholder="Street/Locality/sector"
                                [ngClass]="{ 'is-invalid': submitted && f.addLine2?.errors }">
                            <div *ngIf="submitted && f.addLine2?.errors" class="invalid-feedback">
                                <div *ngIf="f.addLine2?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-sm-4">
                            <label for="pincode">Pincode</label>
                            <input type="number" class="form-control" formControlName="pincode" placeholder="ex: 110001"
                                [ngClass]="{ 'is-invalid': submitted && f.pincode?.errors }"
                                (ngModelChange)="onKey2($event)">
                            <div *ngIf="submitted && f.pincode?.errors" class="invalid-feedback">
                                <div *ngIf="f.pincode?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>

                        <div class="form-group col-sm-4">
                            <label for="city">City</label>
                            <input type="text" class="form-control" formControlName="city" placeholder="city"
                                [ngClass]="{ 'is-invalid': submitted && f.city?.errors }">
                            <div *ngIf="submitted && f.city?.errors" class="invalid-feedback">
                                <div *ngIf="f.city?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>

                        <div class="form-group col-sm-4">
                            <label for="state">State</label>
                            <input type="text" class="form-control" formControlName="state" placeholder="State"
                                [ngClass]="{ 'is-invalid': submitted && f.state?.errors }">
                            <div *ngIf="submitted && f.state?.errors" class="invalid-feedback">
                                <div *ngIf="f.state?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>

                    </div>

                </div><!-- residential details-->

                <!-- work experience-->
                <div formGroupName='workExperience' *ngIf='!noWorkEx' class="col-sm-12">
                    <h3>Work Experience</h3>
                    <!-- <input type="checkbox"  [(ngModel)]="noWorkEx" [ngModelOptions]="{standalone: false}"> I do not have
                    any work experience yet.<br> -->
                    <!-- <div *ngIf='!noWorkEx'> -->
                    <div class="form-group">
                        <input type="checkbox" (change)='workExperienceChange()' formControlName='exists'>I do not have
                        any work experience yet.
                    </div>
                    <div class="form-group col-sm-12">
                        <label for="companyName">Company Name</label>
                        <input type="text" class="form-control" formControlName="companyName" placeholder="Company name"
                            [ngClass]="{ 'is-invalid': submitted && f.companyName?.errors }">
                        <div *ngIf="submitted && f.companyName?.errors" class="invalid-feedback">
                            <div *ngIf="f.companyName?.errors.required" class="alert alert-danger">This field
                                is
                                required
                            </div>
                        </div>
                    </div>


                    <div class="form-group col-sm-4">
                        <label for="startDate">Start Date</label>
                        <input type="date" class="form-control" formControlName="startDate"
                            [ngClass]="{ 'is-invalid': submitted && f.startDate?.errors }">
                        <div *ngIf="submitted && f.startDate?.errors" class="invalid-feedback">
                            <div *ngIf="f.startDate?.errors.required" class="alert alert-danger">This field
                                is
                                required
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-sm-4">
                        <label for='currentWorkStatus'>Current Work Status.</label><br>
                        <input type="checkbox" formControlName='currentJobStatus' [(ngModel)]="workHere" />
                        Currently works here.<br>
                    </div>

                    <div *ngIf='!workHere' class="form-group col-sm-4">
                        <label for="endDate">End Date</label>
                        <input type="date" class="form-control" formControlName="endDate"
                            [ngClass]="{ 'is-invalid': submitted && f.endDate?.errors }">
                        <div *ngIf="submitted && f.endDate?.errors" class="invalid-feedback">
                            <div *ngIf="f.endDate?.errors.required" class="alert alert-danger">This field
                                is
                                required
                            </div>
                        </div>
                    </div>

                    <div formGroupName='jobLocation' class="col-sm-12">
                        <div class="form-group col-sm-4">
                            <label for="city">City</label>
                            <input type="text" class="form-control" formControlName="city" placeholder="city"
                                [ngClass]="{ 'is-invalid': submitted && f.city?.errors }">
                            <div *ngIf="submitted && f.city?.errors" class="invalid-feedback">
                                <div *ngIf="f.city?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>

                        <div class="form-group col-sm-4">
                            <label for="state">State</label>
                            <input type="text" class="form-control" formControlName="state" placeholder="State"
                                [ngClass]="{ 'is-invalid': submitted && f.state?.errors }">
                            <div *ngIf="submitted && f.state?.errors" class="invalid-feedback">
                                <div *ngIf="f.state?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>

                        <div class="form-group col-sm-4">
                            <label for="country">Country</label>
                            <input type="text" class="form-control" formControlName="country" placeholder="State"
                                [ngClass]="{ 'is-invalid': submitted && f.country?.errors }">
                            <div *ngIf="submitted && f.country?.errors" class="invalid-feedback">
                                <div *ngIf="f.country?.errors.required" class="alert alert-danger">This field
                                    is
                                    required
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- </div> -->

                </div>

                <div formGroupName='skillset' class="col-lg-12">
                    <h3>Skills</h3>
                    <div class="form-group col-sm-9">
                        <label for="skillSetName">Skill Name</label>
                        <input type="text" class="form-control" formControlName="skillSetName" placeholder="Name"
                            [ngClass]="{ 'is-invalid': submitted && f.skillSetName?.errors }">
                        <div *ngIf="submitted && f.skillSetName?.errors" class="invalid-feedback">
                            <div *ngIf="f.skillSetName?.errors.required" class="alert alert-danger">This field is
                                required
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-sm-3">
                        <label for="skillLevel">Level</label>
                        <input type="number" class="form-control" formControlName="skillLevel" placeholder="/ 10"
                            [ngClass]="{ 'is-invalid': submitted && f.skillLevel?.errors }">
                        <div *ngIf="submitted && f.skillLevel?.errors" class="invalid-feedback">
                            <div *ngIf="f.skillLevel?.errors.required" class="alert alert-danger">This field is required
                            </div>
                        </div>
                    </div>


                </div>
                <div formGroupName='referralDetails' class="col-sm-12">
                    <h3>Referral Details</h3>
                    <div class="form-group col-sm-6">
                        <label for="name">Name</label>
                        <input type="text" class="form-control" formControlName="name">

                    </div>
                    <div class="form-group col-sm-6">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" formControlName="email">

                    </div>
                    <div class="form-group col-sm-6">
                        <label for="phoneNumber">phoneNumber</label>
                        <input type="number" class="form-control" formControlName="phoneNumber">

                    </div>
                    <div class="form-group col-sm-6">
                        <label for="designation">Designation</label>
                        <input type="text" class="form-control" formControlName="designation">

                    </div>

                </div>

                <div>
                    <h3>Upload Documents</h3>
                    <form (ngSubmit)='submitDocuments()'>
                        <div class="form-group col-sm-8">
                            <label for="resumeFile">Resume</label>
                            <input accept=".pdf,text/plain,.doc,.ppt,.pptx,.txt" type="file" name="resumeFile"
                                class="form-control" (change)='uploadResume($event)'>
                        </div>

                        <div class="form-group col-sm-8">
                            <label for="videoResumeFile">Intro Video</label>
                            <input type="file" accept="video/mp4" name="videoResumeFile" class="form-control"
                                (change)='uploadVideoResume($event)'>
                        </div>

                        <div class="col-sm-4">
                            <input type="submit" value="Upload" class="btn btn-primary">
                        </div>
                    </form>
                </div>

                <div class="col-sm-6">
                    <input type="button" class="btn btn-warning" value="RESET">
                </div>
                <div class="col-sm-6">
                    <input type="button" class="btn btn-success" value="SUBMIT" (click)='onSubmit(candidateForm.value)'>
                </div>

            </form>
        </div>

    </div>
</div>

<div class="text-input form-group" *ngIf='otpForm'>
    <div>Please Enter <b>One time password</b> we sent you on your number</div>
    <label for="input1">Enter OTP</label><br>
    <input type="number" [(ngModel)]='otpValue' placeholder="Try typing something in here!"> 

    <div *ngIf='otpError' style="color: red">Incorrect otp</div>
    <input type="submit" class="btn btn-primary" (click)='verifyOTP()'>   
</div>